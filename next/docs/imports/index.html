<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="search" type="application/opensearchdescription+xml" title="ts-node" href="/ts-node/next/opensearch.xml">
<link rel="apple-touch-icon" sizes="180x180" href="/ts-node/img/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/ts-node/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/ts-node/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/ts-node/img/favicon/site.webmanifest">
<link rel="mask-icon" href="/ts-node/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/ts-node/img/favicon/favicon.ico"><title data-rh="true">CommonJS vs native ECMAScript modules | ts-node</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://typestrong.org/ts-node/next/img/opengraph.png"><meta data-rh="true" name="twitter:image" content="https://typestrong.org/ts-node/next/img/opengraph.png"><meta data-rh="true" property="og:url" content="https://typestrong.org/ts-node/next/docs/imports"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="msapplication-TileColor" content="#2b5797"><meta data-rh="true" name="msapplication-config" content="/ts-node/img/favicon/browserconfig.xml"><meta data-rh="true" name="theme-color" content="#ffffff"><meta data-rh="true" property="og:title" content="CommonJS vs native ECMAScript modules | ts-node"><meta data-rh="true" name="description" content="TypeScript is almost always written using modern import syntax, but it is also transformed before being executed by the underlying runtime.  You can choose to either transform to CommonJS or to preserve the native import syntax, using node&#x27;s native ESM support.  Configuration is different for each."><meta data-rh="true" property="og:description" content="TypeScript is almost always written using modern import syntax, but it is also transformed before being executed by the underlying runtime.  You can choose to either transform to CommonJS or to preserve the native import syntax, using node&#x27;s native ESM support.  Configuration is different for each."><link data-rh="true" rel="icon" href="/ts-node/next/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://typestrong.org/ts-node/next/docs/imports"><link data-rh="true" rel="alternate" href="https://typestrong.org/ts-node/next/docs/imports" hreflang="en"><link data-rh="true" rel="alternate" href="https://typestrong.org/ts-node/next/docs/imports" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BYGNLKSCOV-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/ts-node/next/assets/css/styles.12b698a2.css">
<link rel="preload" href="/ts-node/next/assets/js/runtime~main.c4bd2ffb.js" as="script">
<link rel="preload" href="/ts-node/next/assets/js/main.6e227c4c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ts-node/next/"><div class="navbar__logo"><img src="/ts-node/next/img/logo-icon.svg" alt="ts-node logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/ts-node/next/img/logo-icon.svg" alt="ts-node logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ts-node</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ts-node/next/docs/">Docs</a><a href="https://typestrong.org/ts-node/next/api/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/TypeStrong/ts-node/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Release Notes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/TypeStrong/ts-node/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discuss<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.gg/typescript" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/TypeStrong/ts-node" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ts-node/next/docs/">General</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/usage">Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/options">Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/swc">SWC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ts-node/next/docs/imports">CommonJS vs native ECMAScript modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/performance">Performance</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ts-node/next/docs/how-it-works">Advanced</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/how-it-works">How it works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/scope">Ignored files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/paths">paths and baseUrl
</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/compilers">Third-party compilers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/transpilers">Transpilers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/module-type-overrides">Module type overrides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/api">API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ts-node/next/docs/recipes/watching-and-restarting">Recipes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/watching-and-restarting">Watching and restarting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/ava">AVA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/gulp">Gulp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/intellij">IntelliJ and Webstorm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/mocha">Mocha</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/tape">Tape</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/visual-studio-code">Visual Studio Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/npx-yarn-dlx">npx and yarn dlx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-node/next/docs/recipes/other">Other</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_J6XI" href="/ts-node/next/docs">üè†</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_J6XI">General</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_J6XI" href="/ts-node/next/docs/imports">CommonJS vs native ECMAScript modules</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CommonJS vs native ECMAScript modules</h1></header><p>TypeScript is almost always written using modern <code>import</code> syntax, but it is also transformed before being executed by the underlying runtime.  You can choose to either transform to CommonJS or to preserve the native <code>import</code> syntax, using node&#x27;s native ESM support.  Configuration is different for each.</p><p>Here is a brief comparison of the two.</p><table><thead><tr><th>CommonJS</th><th>Native ECMAScript modules</th></tr></thead><tbody><tr><td>Write native <code>import</code> syntax</td><td>Write native <code>import</code> syntax</td></tr><tr><td>Transforms <code>import</code> into <code>require()</code></td><td>Does not transform <code>import</code></td></tr><tr><td>Node executes scripts using the classic <a href="https://nodejs.org/dist/latest-v16.x/docs/api/modules.html" target="_blank" rel="noopener noreferrer">CommonJS loader</a></td><td>Node executes scripts using the new <a href="https://nodejs.org/dist/latest-v16.x/docs/api/esm.html" target="_blank" rel="noopener noreferrer">ESM loader</a></td></tr><tr><td>Use any of:<br><code>ts-node</code><br><code>node -r ts-node/register</code><br><code>NODE_OPTIONS=&quot;ts-node/register&quot; node</code><br><code>require(&#x27;ts-node&#x27;).register({/* options */})</code></td><td>Use any of:<br><code>ts-node --esm</code><br><code>ts-node-esm</code><br>Set <code>&quot;esm&quot;: true</code> in <code>tsconfig.json</code><br><code>node --loader ts-node/esm</code><br><code>NODE_OPTIONS=&quot;--loader ts-node/esm&quot; node</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="commonjs">CommonJS<a class="hash-link" href="#commonjs" title="Direct link to heading">‚Äã</a></h2><p>Transforming to CommonJS is typically simpler and more widely supported because it is older.  You must remove <a href="https://nodejs.org/api/packages.html#packages_type" target="_blank" rel="noopener noreferrer"><code>&quot;type&quot;: &quot;module&quot;</code></a> from <code>package.json</code> and set <a href="https://www.typescriptlang.org/tsconfig/#module" target="_blank" rel="noopener noreferrer"><code>&quot;module&quot;: &quot;CommonJS&quot;</code></a> in <code>tsconfig.json</code>.</p><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292e" title="package.json"><div class="code-title">package.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#24292E">{</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#6A737D">// This can be omitted; commonjs is the default</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;type&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;commonjs&quot;</span></div><div class="line"><span style="color:#24292E">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord with-title" style="background-color:#2e3440ff;color:#d8dee9ff" title="package.json"><div class="code-title">package.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#616E88">// This can be omitted; commonjs is the default</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">type</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">commonjs</span><span style="color:#ECEFF4">&quot;</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292e" title="tsconfig.json"><div class="code-title">tsconfig.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#24292E">{</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;compilerOptions&quot;</span><span style="color:#24292E">: {</span></div><div class="line"><span style="color:#24292E">    </span><span style="color:#005CC5">&quot;module&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;CommonJS&quot;</span></div><div class="line"><span style="color:#24292E">  }</span></div><div class="line"><span style="color:#24292E">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord with-title" style="background-color:#2e3440ff;color:#d8dee9ff" title="tsconfig.json"><div class="code-title">tsconfig.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">compilerOptions</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">module</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">CommonJS</span><span style="color:#ECEFF4">&quot;</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>If you must keep <code>&quot;module&quot;: &quot;ESNext&quot;</code> for <code>tsc</code>, webpack, or another build tool, you can set an override for ts-node.</p><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292e" title="tsconfig.json"><div class="code-title">tsconfig.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#24292E">{</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;compilerOptions&quot;</span><span style="color:#24292E">: {</span></div><div class="line"><span style="color:#24292E">    </span><span style="color:#005CC5">&quot;module&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;ESNext&quot;</span></div><div class="line"><span style="color:#24292E">  },</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;ts-node&quot;</span><span style="color:#24292E">: {</span></div><div class="line"><span style="color:#24292E">    </span><span style="color:#005CC5">&quot;compilerOptions&quot;</span><span style="color:#24292E">: {</span></div><div class="line"><span style="color:#24292E">      </span><span style="color:#005CC5">&quot;module&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;CommonJS&quot;</span></div><div class="line"><span style="color:#24292E">    }</span></div><div class="line"><span style="color:#24292E">  }</span></div><div class="line"><span style="color:#24292E">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord with-title" style="background-color:#2e3440ff;color:#d8dee9ff" title="tsconfig.json"><div class="code-title">tsconfig.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">compilerOptions</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">module</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">ESNext</span><span style="color:#ECEFF4">&quot;</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">ts-node</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">compilerOptions</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">module</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">CommonJS</span><span style="color:#ECEFF4">&quot;</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_mojV" id="native-ecmascript-modules">Native ECMAScript modules<a class="hash-link" href="#native-ecmascript-modules" title="Direct link to heading">‚Äã</a></h2><p><a href="https://nodejs.org/api/esm.html#esm_experimental_loaders" target="_blank" rel="noopener noreferrer">Node&#x27;s ESM loader hooks</a> are <a href="https://nodejs.org/api/documentation.html#documentation_stability_index" target="_blank" rel="noopener noreferrer"><strong>experimental</strong></a> and subject to change. ts-node&#x27;s ESM support is as stable as possible, but it relies on APIs which node can <em>and will</em> break in new versions of node.  Thus it is not recommended for production.</p><p>For complete usage, limitations, and to provide feedback, see <a href="https://github.com/TypeStrong/ts-node/issues/1007" target="_blank" rel="noopener noreferrer">#1007</a>.</p><p>You must set <a href="https://nodejs.org/api/packages.html#packages_type" target="_blank" rel="noopener noreferrer"><code>&quot;type&quot;: &quot;module&quot;</code></a> in <code>package.json</code> and <a href="https://www.typescriptlang.org/tsconfig/#module" target="_blank" rel="noopener noreferrer"><code>&quot;module&quot;: &quot;ESNext&quot;</code></a> in <code>tsconfig.json</code>.</p><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292e" title="package.json"><div class="code-title">package.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#24292E">{</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;type&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;module&quot;</span></div><div class="line"><span style="color:#24292E">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord with-title" style="background-color:#2e3440ff;color:#d8dee9ff" title="package.json"><div class="code-title">package.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">type</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">module</span><span style="color:#ECEFF4">&quot;</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki github-light with-title" style="background-color:#ffffff;color:#24292e" title="tsconfig.json"><div class="code-title">tsconfig.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#24292E">{</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;compilerOptions&quot;</span><span style="color:#24292E">: {</span></div><div class="line"><span style="color:#24292E">    </span><span style="color:#005CC5">&quot;module&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;ESNext&quot;</span><span style="color:#24292E"> </span><span style="color:#6A737D">// or ES2015, ES2020</span></div><div class="line"><span style="color:#24292E">  },</span></div><div class="line"><span style="color:#24292E">  </span><span style="color:#005CC5">&quot;ts-node&quot;</span><span style="color:#24292E">: {</span></div><div class="line"><span style="color:#24292E">    </span><span style="color:#6A737D">// Tell ts-node CLI to install the --loader automatically, explained below</span></div><div class="line"><span style="color:#24292E">    </span><span style="color:#005CC5">&quot;esm&quot;</span><span style="color:#24292E">: </span><span style="color:#005CC5">true</span></div><div class="line"><span style="color:#24292E">  }</span></div><div class="line"><span style="color:#24292E">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord with-title" style="background-color:#2e3440ff;color:#d8dee9ff" title="tsconfig.json"><div class="code-title">tsconfig.json</div><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">compilerOptions</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">module</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">ESNext</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> </span><span style="color:#616E88">// or ES2015, ES2020</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">ts-node</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#616E88">// Tell ts-node CLI to install the --loader automatically, explained below</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">esm</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>You must also ensure node is passed <code>--loader</code>.  The ts-node CLI will do this automatically with our <code>esm</code> option.</p><blockquote><p>Note: <code>--esm</code> must spawn a child process to pass it <code>--loader</code>.  This may change if node adds the ability to install loader hooks
into the current process.</p></blockquote><pre class="shiki github-light" style="background-color:#ffffff;color:#24292e"><div class="language-id">shell</div><div class="code-container"><code><div class="line"><span style="color:#6A737D"># pass the flag</span></div><div class="line"><span style="color:#24292E">ts-node --esm</span></div><div class="line"><span style="color:#6A737D"># Use the convenience binary</span></div><div class="line"><span style="color:#24292E">ts-node-esm</span></div><div class="line"><span style="color:#6A737D"># or add `&quot;esm&quot;: true` to your tsconfig.json to make it automatic</span></div><div class="line"><span style="color:#24292E">ts-node</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">shell</div><div class="code-container"><code><div class="line"><span style="color:#616E88"># pass the flag</span></div><div class="line"><span style="color:#D8DEE9FF">ts-node --esm</span></div><div class="line"><span style="color:#616E88"># Use the convenience binary</span></div><div class="line"><span style="color:#D8DEE9FF">ts-node-esm</span></div><div class="line"><span style="color:#616E88"># or add `&quot;esm&quot;: true` to your tsconfig.json to make it automatic</span></div><div class="line"><span style="color:#D8DEE9FF">ts-node</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>If you are not using our CLI, pass the loader flag to node.</p><pre class="shiki github-light" style="background-color:#ffffff;color:#24292e"><div class="language-id">shell</div><div class="code-container"><code><div class="line"><span style="color:#24292E">node --loader ts-node/esm ./index.ts</span></div><div class="line"><span style="color:#6A737D"># Or via environment variable</span></div><div class="line"><span style="color:#24292E">NODE_OPTIONS=</span><span style="color:#032F62">&quot;--loader ts-node/esm&quot;</span><span style="color:#24292E"> node ./index.ts</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">shell</div><div class="code-container"><code><div class="line"><span style="color:#D8DEE9FF">node --loader ts-node/esm ./index.ts</span></div><div class="line"><span style="color:#616E88"># Or via environment variable</span></div><div class="line"><span style="color:#D8DEE9FF">NODE_OPTIONS=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">--loader ts-node/esm</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF"> node ./index.ts</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/TypeStrong/ts-node/edit/docs/website/docs/imports.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ts-node/next/docs/swc"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SWC</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ts-node/next/docs/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#commonjs" class="table-of-contents__link toc-highlight">CommonJS</a></li><li><a href="#native-ecmascript-modules" class="table-of-contents__link toc-highlight">Native ECMAScript modules</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/ts-node/next/assets/js/runtime~main.c4bd2ffb.js"></script>
<script src="/ts-node/next/assets/js/main.6e227c4c.js"></script>
</body>
</html>